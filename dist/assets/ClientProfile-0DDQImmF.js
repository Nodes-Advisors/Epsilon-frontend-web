import{r as o,b as E,u as A,a as R,h as F,j as e,S as i}from"./index-0WR0Gjyr.js";import{s}from"./profile.module-U9ZOfMhP.js";import{B as z,V as v,L as O,a as w,D as V,Y as P}from"./back-MckuSZhq.js";import{O as N}from"./index.esm-eBcnp3nh.js";import{_ as Y}from"./index-7pRukMos.js";import{a as g}from"./axios-G2rPRu76.js";import"./objectWithoutPropertiesLoose-9Q1jwsKS.js";function Z(){const[c,x]=o.useState(!0),[l,C]=o.useState(null),[S,b]=o.useState(null);o.useState(!1),o.useState(null),o.useState(null),o.useState(null);const[j,I]=o.useState([]);o.useState(""),o.useState(""),o.useState(""),o.useState("");const d=E(t=>t.user),f=A();o.useState(!1);const[$,T]=o.useState([]);o.useState(""),o.useState(!1),o.useRef(null);const[u,k]=o.useState([]);function _(t){const a=new Date(t);let n=a.getDate();n=n<10?"0"+n:n;let r=a.getMonth()+1;r=r<10?"0"+r:r;const m=a.getFullYear().toString().substr(-2);return`${n}/${r}/${m}`}const h=R(t=>t.token),D=F(t=>t.clients),p=window.location.pathname.split("/")[2];if(localStorage.setItem("client-id",p),!p)throw new Error("fund id not found");o.useEffect(()=>{const t=D.filter(n=>n._id===p)[0];async function a(){try{const r=await(await g.get(`http://localhost:5001/getclienthislog/${t.acronym}`,{headers:{"Content-Type":"application/json",Authorization:h,email:d==null?void 0:d.email}})).data;I(r)}catch(n){console.log(n)}}h&&a(),b(["hq location"].reduce((n,r,m,L)=>n+=t[r]?m!==L.length-1?t[r]+", ":t[r]:"","")),C(t),setTimeout(()=>x(!1),1e3)},[p,h]),o.useEffect(()=>{h&&(async()=>{await g.get("http://localhost:5001/savedcollections",{params:{email:d==null?void 0:d.email},headers:{"Content-Type":"application/json",Authorization:h,email:d==null?void 0:d.email}}).then(a=>{T(a.data)}).catch(a=>{var n;Y.error((n=a==null?void 0:a.response)==null?void 0:n.data)})})()},[h]),o.useEffect(()=>{h&&(async()=>{x(!0);try{const a=await g.get("http://localhost:5001/getNodesProfileImage",{headers:{"Content-Type":"application/json",Authorization:h,email:d==null?void 0:d.email}});a.status===200&&(x(!1),k(a.data))}catch(a){x(!1),console.error(a)}})()},[h]);const y=t=>{if(t){console.log(t),console.log(u);const a=u.find(n=>n.name&&n.name.includes(t));return a?a.profile_image:""}return""};return e.jsxs("div",{style:{overflow:"hidden",position:"relative",gap:"3vh",display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",height:"90vh"},children:[e.jsxs("div",{onClick:()=>f("/client-cards"),style:{display:"flex",gap:"1rem",alignItems:"center",alignSelf:"self-start",paddingTop:"3vh",marginLeft:"8vw"},children:[e.jsx("img",{className:s["back-icon"],src:z,alt:""}),e.jsx("h3",{className:s["back-text"],children:"Return to Client Card Page"})]}),e.jsx("div",{children:e.jsxs("div",{style:{display:"flex"},children:[e.jsxs("div",{className:s["left-panel"],children:[c?e.jsx(i,{className:s["venture-logo"]}):e.jsx("div",{style:{position:"relative"},children:e.jsx(N,{src:l.Logo?l.Logo:"",alt:"",style:{width:" 20.57144rem",height:"20.47456rem",objectFit:"contain",backgroundColor:"#999",border:"1px solid transparent",borderRadius:"0.5px"},draggable:"false",onContextMenu:t=>t.preventDefault()})}),e.jsxs("div",{children:[e.jsxs("div",{className:s["horizontal-flex-layout"],children:[e.jsx(v,{className:s["vector-logo"]}),e.jsx("h2",{className:s["relationship-text"],children:"Relationships"}),e.jsx(v,{className:s["vector-logo"]})]}),e.jsx("div",{className:s["horizontal-flex-layout"],children:c?e.jsxs(e.Fragment,{children:[e.jsx(i,{className:s.headImg}),e.jsxs("div",{className:`${s["vertical-flex-align-flex-start-layout"]}`,children:[e.jsx(i,{className:s["relationship-inner-text"]}),e.jsx(i,{className:s["relationship-inner-text-action"]})]}),e.jsx(i,{className:s.headImg})]}):e.jsx(e.Fragment,{children:j.length>0?e.jsx("ul",{className:s["relationship-list"],style:{listStyleType:"none",color:"#9b93af",fontSize:"1.25rem",height:"30vh",overflowY:"auto",overflowX:"hidden",paddingRight:"4rem",margin:"0",display:"flex",flexDirection:"column",gap:"4rem"},children:j.filter((t,a,n)=>a===n.findIndex(r=>r.Nodes===t.Nodes&&r.Contact===t.Contact)).map((t,a)=>e.jsxs("li",{style:{display:"flex",alignItems:"center",gap:"1rem",justifyContent:"center"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",alignItems:"center",position:"relative"},children:[e.jsx(N,{onClick:()=>{t.Nodes&&f(`/user-profile/${t.Nodes.split(" ").join("-")}`)},src:y(t.Nodes),alt:"",className:s.headImg}),e.jsx("span",{style:{cursor:"pointer",position:"absolute",top:"4rem",textWrap:"wrap",width:"10rem"},children:t.Nodes?t.Nodes:"Someone@Nodes"})]}),e.jsx("div",{style:{width:"5rem",height:"0.1px",backgroundColor:"#fff"}}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",alignItems:"center",position:"relative"},children:[e.jsx(N,{src:y(t.Contact),alt:"",className:s.headImg}),e.jsx("span",{style:{position:"absolute",top:"4rem",textWrap:"wrap",width:"10rem"},children:t.Contact?t.Contact:"Someone@This Fund"})]})]},a))}):null})})]})]}),e.jsxs("div",{className:s["middle-panel"],children:[e.jsx("div",{className:s["name-layout"],children:e.jsx("div",{className:s.name,children:e.jsx("span",{className:s["partial-name"],children:c?e.jsx(i,{width:"20rem",height:"3.5rem"}):l?l.acronym:"no name"})})}),e.jsxs("div",{className:s["description-layout"],children:[c?e.jsx("span",{className:s.description,children:"loading..."}):l?e.jsx("span",{className:s.description,children:l.name}):"no description",e.jsx("span",{children:"|"}),e.jsx("a",{className:s["official-website"],href:l?l.website:"www.google.com",target:"_blank",rel:"noreferrer",children:c?"loading...":l?l.website:"no official website, please google it"})]}),e.jsxs("div",{className:s["location-layout"],children:[e.jsx(O,{className:s["location-icon"]}),e.jsx("span",{className:s.description,children:c?e.jsx(i,{className:s.description,width:"10rem"}):l?S:"no location"})]}),e.jsxs("div",{className:s["detail-layout"],children:[e.jsx("div",{className:s["detail-divider-top"]}),e.jsxs("p",{className:s["detail-category"],children:[e.jsx("span",{className:s["detail-category-text"],children:"SECTOR"}),c?e.jsx(i,{className:s["detail-category-text-2"],width:"30rem"}):e.jsx("span",{className:s["detail-category-text-2"],children:l.sector?l.sector:"No Sector Record"})]}),e.jsx("div",{className:s["detail-divider"]}),e.jsxs("p",{className:s["detail-category"],children:[e.jsx("span",{className:s["detail-category-text"],children:"DEAL TYPE"}),c?e.jsx(i,{className:s["detail-category-text-2"],width:"10rem"}):e.jsx("span",{className:s["detail-category-text-2"],children:l.deal_type?l.deal_type:"No Deal Type Record"})]}),e.jsx("div",{className:s["detail-divider"]}),e.jsxs("p",{className:s["detail-category"],children:[e.jsx("span",{className:s["detail-category-text"],children:"DEAL SIZE"}),c?e.jsx(i,{className:s["detail-category-text-2"],width:"20rem"}):l.deal_size?e.jsx("span",{className:s["detail-category-text-2"],children:l.deal_size}):e.jsx("span",{className:s["detail-category-text-2"],children:"No Deals Found"})]}),e.jsx("div",{className:s["detail-divider"]}),e.jsxs("p",{className:s["detail-category"],children:[e.jsx("span",{className:s["detail-category-text"],children:"TRANSACTION TYPE"}),c?e.jsx(i,{className:s["detail-category-text-2"],width:"15rem"}):l.transaction_type?e.jsx("span",{className:s["detail-category-text-2"],children:l.transaction_type}):e.jsx("span",{className:s["detail-category-text-2"],children:"Np Transcation Type Found"})]}),e.jsx("div",{className:s["detail-divider"]}),e.jsxs("p",{className:s["detail-category"],children:[e.jsx("span",{className:s["detail-category-text"],children:"SHORT INFO"}),c?e.jsx(i,{className:s["detail-category-text-2"],width:"15rem"}):e.jsx("span",{style:{position:"absolute",left:"20rem"},children:l.short_info?e.jsxs("span",{className:s["book-wrapper"],children:[e.jsx("img",{src:w,className:s["book-client-card-icon"],alt:""}),e.jsx("span",{className:s["book-client-card-tooltip"],children:l.short_info})]}):e.jsx("span",{style:{color:"#fff"},className:s["detail-category-text"],children:"No"})})]})]}),e.jsxs("div",{className:s["model-layout"],children:[e.jsx("h2",{className:s.description,children:"Historical Log"}),e.jsx("div",{className:s["historical-log-scrollbar-layout"],style:{maxHeight:"30vh",overflow:"auto"},children:e.jsxs("table",{style:{textAlign:"left"},children:[e.jsx("thead",{children:c?e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx(i,{width:"10rem"})}),e.jsx("th",{children:e.jsx(i,{width:"5rem"})}),e.jsx("th",{children:e.jsx(i,{width:"5rem"})}),e.jsx("th",{children:e.jsx(i,{width:"5rem"})}),e.jsx("th",{children:e.jsx(i,{width:"5rem"})}),e.jsx("th",{children:e.jsx(i,{width:"3rem"})})]}):j.length>0?e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Account Manager"}),e.jsx("th",{children:"VC"}),e.jsx("th",{children:"VC Contact"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Comments"})]}):e.jsx("h3",{children:"No log record"})}),e.jsx("tbody",{children:c?Array(5).fill(0).map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(i,{width:"10rem"})}),e.jsx("td",{children:e.jsx(i,{width:"5rem"})}),e.jsx("td",{children:e.jsx(i,{width:"5rem"})}),e.jsx("td",{children:e.jsx(i,{width:"5rem"})}),e.jsx("td",{children:e.jsx(i,{width:"5rem"})}),e.jsx("td",{children:e.jsx(i,{width:"3rem"})})]},a)):j.map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{children:_(t.Date)}),e.jsx("td",{children:t.Nodes?t.Nodes:"No account manager record"}),e.jsx("td",{children:t.VC?t.VC:"No VC record"}),e.jsx("td",{children:t.Contact?t.Contact:"No contact record"}),e.jsx("td",{children:t.fundraising_pipeline_status?t.fundraising_pipeline_status:"No status record"}),e.jsx("td",{children:t.Coments?e.jsxs("div",{className:s["book-wrapper"],children:[e.jsx("img",{className:s["book-icon"],src:w}),e.jsx("span",{className:s["book-tooltip"],children:t.Coments})]}):"No"})]},a))})]})})]})]}),e.jsxs("div",{className:s["right-panel"],children:[e.jsxs("div",{className:s["investor-title-layout"],children:[e.jsx(V,{className:s["dot-circle-investor-icon"]}),e.jsx("span",{className:s["investor-title-text"],children:"COMMON PASSES"})]}),c?Array(5).fill(0).map((t,a)=>e.jsxs("div",{className:s["investor-layout"],children:[e.jsx(i,{className:s["investor-logo"]}),e.jsxs("div",{className:s["investor-text"],children:[e.jsx(i,{className:s["investor-name"],width:"7rem",height:"1rem"}),e.jsx(i,{className:s["stage-info"],width:"5rem",height:"1rem"})]})]},a)):l["Co-Investors"]&&l["Co-Investors"].length>0?l["Co-Investors"].split(",").map(t=>{const a=funds.filter(m=>m.Funds===t);let n,r;return a.length>0&&(n=a[0].Logo,r=a[0]._id),e.jsxs("div",{className:s["investor-layout"],children:[e.jsx("img",{src:n||P,alt:"",className:s["investor-logo"]}),e.jsx("div",{className:s["investor-text"],children:e.jsx("span",{className:r?s["investor-name-click"]:s["investor-name"],children:t})})]},t)}):"no common passes"]})]})})]})}export{Z as default};
